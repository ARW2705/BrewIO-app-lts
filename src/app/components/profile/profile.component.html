<ion-grid *ngIf="user"
          class="ion-no-padding container">

  <ng-container *ngIf="isLoggedIn && userForm">

    <!-- User profile form -->
    <ion-row>

      <form [formGroup]="userForm"
            id="form">

        <!-- Email field -->
        <ion-item>

          <ion-label position="floating">
            Email
          </ion-label>

          <ion-input  formControlName="email"
                      autocapitalize="off"
                      type="text">
          </ion-input>

        </ion-item>

        <form-error *ngIf="
          userForm.controls['email'].touched
          && userForm.controls['email'].errors
        "
                    formName="signup"
                    controlName="email"
                    [controlErrors]="userForm.controls['email'].errors">
        </form-error>


        <!-- First name field (form) -->
        <ion-item>

          <ion-label position="floating">
            First Name
          </ion-label>

          <ion-input  formControlName="firstname"
                      autocapitalize="off"
                      type="text">
          </ion-input>

        </ion-item>

        <form-error *ngIf="
          userForm.controls['firstname'].touched
          && userForm.controls['firstname'].errors
        "
                    formName="signup"
                    controlName="firstname"
                    [controlErrors]="userForm.controls['firstname'].errors">
        </form-error>


        <!-- Last name field (form) -->
        <ion-item>

          <ion-label position="floating">
            Last Name
          </ion-label>

          <ion-input  formControlName="lastname"
                      autocapitalize="off"
                      type="text">
          </ion-input>

        </ion-item>

        <!-- Last name error message -->
        <div class="form-error-container">

          <form-error *ngIf="
            userForm.controls['lastname'].touched
            && userForm.controls['lastname'].errors
          "
                      formName="signup"
                      controlName="lastname"
                      [controlErrors]="userForm.controls['lastname'].errors">
          </form-error>

        </div>


        <!-- User image -->
        <ion-item>

          <ion-label>
            User Avatar
          </ion-label>

          <ion-button (click)="openImageModal('user')"
                      class="image-input">

            <ion-avatar>

              <img [src]="userImage.url"/>

            </ion-avatar>

          </ion-button>

        </ion-item>


        <!-- Brewery image -->
        <ion-item>

          <ion-label>
            Brewery Image
          </ion-label>

          <ion-button (click)="openImageModal('brewery')"
                      class="image-input">

            <ion-avatar>

              <img [src]="breweryLabelImage.url"/>

            </ion-avatar>

          </ion-button>

        </ion-item>

      </form>

    </ion-row>

    <!-- Submit changes to user profile -->
    <ion-row>

      <ion-col class="user-button-container">

        <!-- Button is disabled if data has not been changed -->
        <ion-button color="primary"
                    (click)="onUpdate()"
                    [disabled]="!userForm.valid">
          Update Profile
        </ion-button>

      </ion-col>

    </ion-row>

  </ng-container>

</ion-grid>
