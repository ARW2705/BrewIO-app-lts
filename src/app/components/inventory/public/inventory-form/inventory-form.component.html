<app-header [title]="title"
            [overrideBackButton]="onBackClick"
            [shouldHideLoginButton]="!!batch">
</app-header>

<ion-content class="sub-page">

  <section>
    <p class="form-info required">Required fields</p>

    <form *ngIf="inventoryForm"
          [formGroup]="inventoryForm">

      <app-inventory-item-details-form  *ngIf="itemDetailControls"
                                        (imageSelectionEvent)="onImageSelection($event)"
                                        [controls]="itemDetailControls"
                                        [image]="itemLabelImage"
                                        [selectedStyle]="selectedStyle"
                                        [styleOptions]="styleOptions">
      </app-inventory-item-details-form>

      <app-inventory-supplier-details-form  *ngIf="supplierDetailControls"
                                            (imageSelectionEvent)="onImageSelection($event)"
                                            [controls]="supplierDetailControls"
                                            [image]="supplierLabelImage"
                                            [selectedSource]="selectedSource">
      </app-inventory-supplier-details-form>

      <app-inventory-stock-details-form [controls]="stockDetailControls"
                                        [selectedStockTypeName]="selectedStockTypeName">
      </app-inventory-stock-details-form>

    </form>
  </section>

  <ion-grid>
    <ion-row>
      <ion-col *ngIf="!isRequired">
        <ion-button color="primary"
                    (click)="dismiss()"
                    class="form-button">
          Cancel
        </ion-button>
      </ion-col>
      <ion-col *ngIf="inventoryForm">
        <ion-button color="primary"
                    (click)="onSubmit()"
                    class="form-button"
                    [disabled]="!inventoryForm.valid">
          Submit
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
