<app-header title="Error Report"
            [shouldHideLoginButton]="shouldHideLoginButton">
</app-header>

<ion-content>

  <ion-grid class="ion-padding">

    <ion-row>

      <ion-col size="12">

        <h2>System Error{{ reports.length > 1 ? 's' : '' }}</h2>

      </ion-col>

      <ion-col size="12">

        <ion-button color="primary"
                    (click)="toggleReports()"
                    class="form-button">
          {{ showReports ? 'Hide' : 'Show ' + reports.length }} Report{{ reports.length > 1 ? 's' : '' }}
        </ion-button>

      </ion-col>

    <ion-row id="reports-container">

      <accordion [expanded]="showReports">

        <ng-container *ngFor="let report of reports">

          <p>{{ report.userMessage }}</p>

        </ng-container>

      </accordion>

    </ion-row>

    </ion-row>

    <ion-row>

      <!-- Form submit button -->
      <ion-button color="primary"
                  (click)="submitError()"
                  class="form-button">
        Send Reports And Continue
      </ion-button>

      <!-- Form cancel button -->
      <ion-button color="warning"
                  (click)="cancel()"
                  class="form-button">
        Continue Without Sending Report
      </ion-button>


    </ion-row>

  </ion-grid>

</ion-content>
